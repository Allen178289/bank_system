# 银行卡管理系统 - GUI使用指南

## 快速开始

### 1. 安装依赖

首先确保已安装PyQt5：

```bash
pip install -r requirements.txt
```

### 2. 启动程序

双击运行 `start_gui.bat`（Windows）或执行：

```bash
python main_gui.py
```

## 界面功能详解

### 登录界面

![登录界面](docs/login.png)

**功能说明：**
- 输入用户名和密码
- 支持回车键快速登录
- 首次使用请点击"立即注册"

**提示：**
- 用户名和密码不能为空
- 密码输入框会隐藏字符

---

### 注册界面

**必填项：**
- ✅ 用户名（至少3个字符）
- ✅ 密码（至少6个字符）
- ✅ 确认密码
- ✅ 真实姓名
- ✅ 身份证号（18位）
- ✅ 手机号（11位）

**选填项：**
- 📧 邮箱地址

**注意事项：**
- 两次密码必须一致
- 身份证号和手机号会进行格式验证
- 用户名不能重复

---

### 主界面

登录成功后进入主界面，包含以下区域：

#### 1. 顶部信息栏
- 显示当前登录用户的真实姓名
- 显示用户名
- "退出登录"按钮

#### 2. 功能菜单区

**👤 用户管理**
- 查看个人信息
- 修改手机号和邮箱
- 修改密码

**➕ 开户**
- 创建新的银行账户
- 设置初始存款金额
- 自动生成16位卡号

**💰 存款**
- 选择账户
- 输入存款金额
- 即时更新余额

**💸 取款**
- 选择账户
- 输入取款金额
- 自动检查余额是否足够

**⚙️ 账户管理**
- 挂失/解挂
- 冻结/解冻
- 销户（余额必须为0）

**🔄 刷新**
- 刷新账户列表
- 更新余额信息

#### 3. 账户列表区

显示所有账户信息：
- 📇 卡号
- 💵 余额
- 🔖 状态（正常/冻结/挂失/销户）
- 📅 开户时间
- 📊 操作按钮

**账户状态说明：**
- 🟢 **正常**：可以进行所有操作
- 🔵 **冻结**：暂停所有交易，需解冻后才能操作
- 🔴 **挂失**：银行卡丢失状态，需解挂后才能操作
- ⚫ **销户**：账户已关闭，不可恢复

---

## 功能详解

### 用户管理

#### 查看个人信息
- 显示用户名、真实姓名、身份证号、手机号、邮箱等
- 显示注册时间和账户状态

#### 修改个人信息
- 可修改手机号（11位）
- 可修改邮箱地址
- 至少修改一项

#### 修改密码
- 输入旧密码验证
- 输入新密码（至少6个字符）
- 确认新密码
- 修改成功后需重新登录

---

### 开户操作

1. 点击"开户"按钮
2. 输入初始存款金额（可以为0）
3. 点击"开户"按钮
4. 系统自动生成16位银行卡号
5. 妥善保管卡号

**提示：**
- 一个用户可以开设多个账户
- 卡号自动生成，无法自定义
- 初始金额最低为0元

---

### 存款操作

1. 点击"存款"按钮
2. 在下拉列表中选择账户
3. 输入存款金额
4. 点击"存款"按钮确认
5. 查看存款结果

**注意：**
- 存款金额必须大于0
- 只能向正常状态的账户存款
- 冻结或挂失的账户无法存款

---

### 取款操作

1. 点击"取款"按钮
2. 在下拉列表中选择账户
3. 输入取款金额
4. 点击"取款"按钮确认
5. 查看取款结果

**注意：**
- 取款金额必须大于0
- 余额必须充足
- 只能从正常状态的账户取款
- 冻结或挂失的账户无法取款

---

### 账户管理

#### 挂失操作
- 用于银行卡丢失的情况
- 挂失后账户无法进行任何交易
- 可通过"解除挂失"恢复

#### 解除挂失
- 恢复挂失状态的账户
- 账户状态变为正常
- 可以正常进行交易

#### 冻结账户
- 暂时停用账户
- 冻结后无法进行交易
- 可通过"解冻"恢复

#### 解冻账户
- 恢复冻结状态的账户
- 账户状态变为正常

#### 销户操作
- **永久操作，不可恢复！**
- 账户余额必须为0
- 确认后账户永久关闭

---

### 交易记录

点击账户列表中的"交易记录"按钮，可以查看：

- 📅 交易时间
- 🏷️ 交易类型（存款/取款/冻结/解冻等）
- 💰 交易金额
- 📊 交易后余额

**交易类型颜色标识：**
- 🟢 存款 - 绿色
- 🔴 取款 - 红色
- ⚫ 其他操作 - 黑色

---

## 快捷键

- **Enter** - 在登录界面快速登录
- **Esc** - 关闭对话框
- **Tab** - 在输入框之间切换

---

## 常见问题

### 1. 无法登录？
- 检查用户名和密码是否正确
- 确保账户未被禁用
- 区分大小写

### 2. 忘记密码？
- 目前需要联系管理员重置
- 后续版本会添加找回密码功能

### 3. 无法存款/取款？
- 检查账户状态是否为"正常"
- 冻结或挂失的账户需要先解除
- 取款时检查余额是否足够

### 4. 无法销户？
- 确保账户余额为0
- 先取出所有余额再销户
- 销户操作不可恢复

### 5. 程序无法启动？
- 检查是否安装了PyQt5：`pip install PyQt5`
- 检查Python版本是否≥3.6
- 查看错误提示信息

---

## 数据安全

### 密码安全
- 密码使用SHA256加密存储
- 不以明文形式保存
- 建议使用强密码

### 数据备份
- 定期备份`data`目录
- 包含`users.json`和`accounts.json`
- 可手动复制到安全位置

### 权限控制
- 用户只能访问自己的账户
- 无法查看或操作其他用户的信息

---

## 技术支持

如遇到问题或有建议，请联系开发团队。

**祝您使用愉快！** 🎉

