# 银行卡管理系统使用指南

## 快速开始

### 1. 启动系统

在命令行中执行：
```bash
cd F:\bank_system
python main.py
```

### 2. 操作流程示例

#### 场景一：新用户首次使用

**步骤1：注册账号**
```
欢迎使用银行卡管理系统 v1.0
============================================================
【主菜单】
1. 用户注册
2. 用户登录
0. 退出系统
------------------------------------------------------------
请选择操作: 1

请输入用户名 (至少3个字符): zhangsan
请输入密码 (至少6个字符): 123456
请确认密码: 123456
请输入真实姓名: 张三
请输入身份证号 (18位): 110101199001011234
请输入手机号 (11位): 13800138000
请输入邮箱 (可选): zhangsan@example.com

✓ 注册成功！
```

**步骤2：登录系统**
```
请选择操作: 2

请输入用户名: zhangsan
请输入密码: 123456

✓ 欢迎回来，张三！
```

**步骤3：开设银行账户**
```
【用户：zhangsan】
1. 用户管理
2. 存取款管理
3. 账户管理
9. 退出登录
0. 退出系统
------------------------------------------------------------
请选择操作: 2

【存取款管理】
1. 开户
2. 存款
3. 取款
4. 查询余额
5. 查看交易记录
6. 我的所有账户
0. 返回上级
------------------------------------------------------------
请选择操作: 1

请输入初始存款金额 (默认0): 1000

✓ 开户成功！您的卡号是：1234567890123456
```

#### 场景二：存取款操作

**存款操作**
```
请选择操作: 2

【我的账户】
卡号                 余额            状态       开户时间
------------------------------------------------------------
1234567890123456     1000.00         正常       2025-10-24 10:30:00
------------------------------------------------------------

请输入卡号: 1234567890123456
请输入存款金额: 500

✓ 存款成功，当前余额：1500.0元
```

**取款操作**
```
请选择操作: 3

【我的账户】
卡号                 余额            状态       开户时间
------------------------------------------------------------
1234567890123456     1500.00         正常       2025-10-24 10:30:00
------------------------------------------------------------

请输入卡号: 1234567890123456
请输入取款金额: 300

✓ 取款成功，当前余额：1200.0元
```

**查询余额**
```
请选择操作: 4

请输入卡号: 1234567890123456

✓ 当前余额：1200.00 元
```

#### 场景三：账户管理

**账户挂失**
```
【账户管理】
1. 挂失
2. 解除挂失
3. 冻结账户
4. 解冻账户
5. 销户
0. 返回上级
------------------------------------------------------------
请选择操作: 1

【我的账户】
卡号                 余额            状态       开户时间
------------------------------------------------------------
1234567890123456     1200.00         正常       2025-10-24 10:30:00
------------------------------------------------------------

请输入要挂失的卡号: 1234567890123456

确定要挂失该账户吗？ (y/n): y

✓ 账户挂失成功
```

**解除挂失**
```
请选择操作: 2

请输入要解除挂失的卡号: 1234567890123456

✓ 解除挂失成功
```

**销户操作**
```
请选择操作: 5

请输入要销户的卡号: 1234567890123456

✗ 账户还有余额1200.0元，请先取出

（需要先将余额取完）
```

#### 场景四：用户信息管理

**查看个人信息**
```
【用户管理】
1. 查看个人信息
2. 修改个人信息
3. 修改密码
0. 返回上级
------------------------------------------------------------
请选择操作: 1

【个人信息】
用户名: zhangsan
真实姓名: 张三
身份证号: 110101199001011234
手机号: 13800138000
邮箱: zhangsan@example.com
注册时间: 2025-10-24 10:00:00
账户状态: 正常
```

**修改个人信息**
```
请选择操作: 2

请输入新手机号 (直接回车跳过): 13900139000
请输入新邮箱 (直接回车跳过): 

✓ 用户信息更新成功
```

**修改密码**
```
请选择操作: 3

请输入旧密码: 123456
请输入新密码: 654321
请确认新密码: 654321

✓ 密码修改成功
```

## 功能说明

### 账户状态说明

| 状态 | 说明 | 可进行的操作 |
|------|------|--------------|
| 正常 | 账户正常使用 | 存款、取款、所有管理操作 |
| 冻结 | 账户被冻结 | 仅可解冻 |
| 挂失 | 银行卡挂失 | 仅可解除挂失 |
| 销户 | 账户已关闭 | 无法进行任何操作 |

### 交易记录

系统会自动记录以下操作：
- 存款
- 取款
- 冻结
- 解冻
- 挂失
- 解除挂失
- 销户

每条记录包含：
- 交易类型
- 交易金额
- 交易后余额
- 交易时间

### 注意事项

1. **密码安全**
   - 密码长度至少6个字符
   - 系统使用SHA256加密存储
   - 建议使用字母、数字组合

2. **账户操作**
   - 存款金额必须大于0
   - 取款需确保余额充足
   - 销户前必须清空余额

3. **数据安全**
   - 数据存储在`data/`目录
   - 建议定期备份`data/`目录
   - 不要手动修改JSON文件

4. **状态限制**
   - 冻结或挂失状态下无法存取款
   - 销户后账户永久关闭
   - 每个操作都有相应的状态检查

## 常见问题

### Q1: 忘记密码怎么办？
A: 当前版本不支持密码找回，请妥善保管密码。后续版本会添加通过手机号/邮箱找回密码功能。

### Q2: 可以开设多个账户吗？
A: 可以。一个用户可以开设多个银行账户。

### Q3: 销户后可以恢复吗？
A: 当前版本销户后无法恢复。销户前请确认。

### Q4: 数据存在哪里？
A: 数据以JSON格式存储在`F:\bank_system\data\`目录下。

### Q5: 如何查看所有账户？
A: 登录后进入"存取款管理" -> "我的所有账户"即可查看。

## 错误处理

系统会对以下情况进行检查并提示错误：

- 用户名已存在
- 密码不一致
- 身份证号格式错误（非18位）
- 手机号格式错误（非11位）
- 金额格式错误
- 余额不足
- 账户不存在
- 账户状态不允许的操作

## 技术支持

如遇到问题，请检查：
1. Python版本是否≥3.6
2. 是否在正确的目录运行
3. `data/`目录是否有读写权限

---

祝您使用愉快！

